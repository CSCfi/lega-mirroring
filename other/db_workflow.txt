# Table for tracking workflow 1 in luigi
CREATE TABLE workflow1 (
	id INT NOT NULL AUTO_INCREMENT,			# unique tracking id
	name VARCHAR(64) NOT NULL,			# name of file
	size VARCHAR(32) NOT NULL,			# size of file in bytes
	age VARCHAR(32) NOT NULL,			# mtime of last modification
	passes INT NOT NULL,				# number of accumulated passes
	PRIMARY KEY (id)
);

# Table for tracking workflow 2 in luigi
CREATE TABLE workflow2 (
	id INT NOT NULL,				# references workflow1 id
	passed_transfer_integrity TINYINT(1) NOT NULL,	# has passed first md5 checksum stage
	passed_decrypt TINYINT(1) NOT NULL,		# has passed decrypting stage
	passed_decrypt_integrity TINYINT(1) NOT NULL,	# has passed second md5 checksum stage
	passed_encrypt TINYINT(1) NOT NULL,		# has passed encryption stage
	passed_hash TINYINT(1) NOT NULL,		# has passed md5 hashing stage
	passed_archive TINYINT(1) NOT NULL,		# has passed archiving stage
	passed_storage TINYINT(1) NOT NULL,		# has passed storing local to db stage
	FOREIGN KEY (id) REFERENCES workflow1 (id)
);